#summary About the TCP socket server

= Introduction =

This page give detail information about the socket server functionality in the RFXcmd 0.3 and above.

== Version ==

||Version||Date||Info||
||R1A||18-May-2013||Created, first version||

== Function ==

In version 0.3 and above there is a TCP socket server integrated in RFXcmd that will listen to incoming communication. The main purpose of the socket server is to receive incoming "send packets" that are in turn sent to the RFX device.

By including this function the old "background send" option will be removed (it was never a good solution anyway) and all sending should now be handled by a separate script called RFXsend.

== Configuration ==

The socket server configuration is made in the config.xml file, which RFXcmd read each time it is started. If any changes are made, the RFXcmd has to be restarted before they take effect.

Config tags:

<socketserver>

 * Set to 'yes' or 'no'
 * Default to 'no'
 * Activate the trigger function by writing 'yes' inside the trigger_active tag.

<sockethost>

 * Set to the host address, in most cases localhost is enough
 * Default is 'localhost'
 * The socket server will use this host address to open the server on.

<socketport>

 * TCP socket port number
 * Default to '55000'
 * The TCP port that the socket server will be listening on incoming messages.

== Example ==

This example uses the RFXsend script to send a message "0A5201008E02010A230289" to the RFXcmd socket server on the local machine (localhost) and port 55000.

{{{
$ ./rfxsend.py -s localhost -p 55000 -r 0A5201008E02010A230289
$
}}}

There will be no response when the message has left.

On the RFXcmd it can be seen with the statement "Incoming message from socket" when the message is received and RFXcmd start to process it. This will be directly sent to the RFX device.

{{{
Incoming message from socket
Send			= 0A 52 01 00 8E 02 01 0A 23 02 89
Date/Time		= 2013-05-18 14:06:16
Packet Length		= 0A
}}}

This example uses a "incoming" message as example, the function is still same for a real outgoing message.

== Own applications ==

The socket server can easily take messages from other sources than the RFXsend. It is not limited to the RFXsend, and example PHP can be used to send these messages as well. The messages are same as the RFX protocol which is available in the RFX SDK document from RFXcom.
