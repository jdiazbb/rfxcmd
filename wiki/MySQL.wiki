#summary Configure MySQL database with RFXcmd

= Introduction =

MySQL is a open source database. For easy managament via web interface the PhpMyAdmin can be used.

= Details =

 * The instruction has been tested successfully under Ubuntu 14.04, and should work on any Debian flavor linux.
 * For security a different password should be used than the one in this example.

= Install MySQL =

{{{
$ sudo apt-get install mysql
}}}

= Install python extension =

To be able to use MySQL, the Python extension needs to be installed. This can easily be done with following command on Ubuntu.

{{{
$ sudo apt-get install python-mysqldb
}}}

= Create database and user =

Login to mysql, password will be asked

{{{
$ mysql -u root -p
}}}

Create database and user

{{{
$ create database rfx;
$ grant usage on *.* to rfxuser@localhost identified by 'rfxuser1';
$ grant all privileges on rfx.* to rfxuser@localhost;
$ exit
}}}

Now insert the table from the pre-defined file in the doc folder, the table will be created in the database rfx as defined in the command.

{{{
$ mysql -u rfxuser -p < rfxcmd/doc/rfxcmd_mysql.txt
}}}

= RFXcmd configuration =

The database configuration has to be set in the config.xml file. If the mysql configuration is changed when RFXcmd is running, RFXcmd has be stopped and started again for the changes to take effect.


Example:
{{{
<mysql_active>no</mysql_active>
<mysql_server>localhost</mysql_server>
<mysql_database>rfx</mysql_database>
<mysql_username>rfxuser</mysql_username>
<mysql_password>rfxuser1</mysql_password>
}}}

== The config tags ==

<mysql_active>

 * Values 'yes' or 'no'
 * To activate Sqlite it has to be set to 'yes'
 * Default value = no

<mysql_server>

 * The address of the MySQL server
 * Default value = localhost

<mysql_username>

 * Username to the MySQL
 * Default value = rfxuser

<mysql_password>

 * Password to the MySQL
 * Default value = rfxuser1

<mysql_database>

 * The database that have the RFXcmd table
 * Default value = rfxcmd

= Other =

== Removal of table and database ==

If you want to remove all RFX related data from the database then following commands should do it. 

{{{
$ mysql -u rfxuser -p
$ drop table rfxcmd;
$ drop database rfx;
$ exit
}}}

== Login to database with rfxuser ==

How to login to the database rfx with user rfxuser. The password requested is the password that was set for rfxuser.

{{{
$ mysql -u rfxuser -p
}}}

Then for example all data from table rfxcmd can be listed with normal SQL commands.

{{{
mysql> select * from rfxcmd;
}}}

Or how to check how many rows in the table.

{{{
mysql> select count(*) from rfxcmd;
+----------+
| count(*) |
+----------+
|        0 |
+----------+
1 row in set (0.00 sec)

mysql>
}}}